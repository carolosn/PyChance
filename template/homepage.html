<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PyChance</title>
<style>
/* ==================== General Styles ==================== */
body { 
    margin:0; 
    font-family:"Inter", sans-serif; 
    background:#050505; 
    color:#d9ffe7; 
}
header { 
    display:flex; 
    justify-content:space-between; 
    align-items:center; 
    padding:18px 30px; 
}
.logo { 
    font-size:42px; 
    font-weight:700; 
    color:#00ff99; 
    text-shadow:0 0 10px #00ff99; 
}
.user-info { 
    text-align:right; 
    font-size:17px; 
    color:#9effd1; 
}

/* ==================== Home Page Game Selection ==================== */
.games-selection { 
    display:flex; 
    justify-content:center; 
    gap:20px; 
    margin-top:50px; 
}
.game-card { 
    background: rgba(20,20,20,0.6); 
    border:1px solid rgba(0,255,140,0.15); 
    border-radius:18px;
    width:250px; 
    height:285px; 
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    justify-content:flex-start;
    text-align:center; 
    padding:10px; 
    cursor:pointer; 
    transition:0.25s; 
    color:#d9ffe7; 
}
.game-card:hover { 
    transform: scale(1.05); 
    box-shadow:0 0 25px #00ff99; 
}
.game-card img { 
    width:100%; 
    height:200px; 
    object-fit:cover; 
    border-radius:10px; 
    margin-bottom:5px; 
}

/* ==================== Bottom Buttons ==================== */
.bottom-buttons { 
    position:fixed; 
    bottom:20px; 
    right:20px; 
    display:flex; 
    gap:10px; 
    z-index:1000; 
}
.bottom-buttons a {
    padding:12px 18px; 
    border-radius:50px; 
    font-weight:bold; 
    background:#00ff99; 
    color:black; 
    text-decoration:none; 
    text-align:center; 
    box-shadow:0 0 8px #00ff99;
    transition:0.25s;
}
.bottom-buttons a:hover { 
    background:#29ffb3; 
    transform:scale(1.05); 
    box-shadow:0 0 15px #00ff99;
}

/* ==================== Button Styles ==================== */
button {
    background: #00ff99; 
    color: #000; 
    font-weight: bold;
    border: none;
    border-radius: 12px;
    padding: 10px 20px;
    cursor: pointer;
    transition: 0.25s;
    box-shadow: 0 0 8px #00ff99;
    font-family: "Inter", sans-serif;
}
button:hover {
    background: #29ffb3;
    transform: scale(1.05);
    box-shadow: 0 0 15px #00ff99;
}
button.back, button.logout {
    background: #ff4444;
    color: #fff;
    box-shadow: 0 0 8px #ff4444;
}
button.back:hover, button.logout:hover {
    background: #ff6666;
    box-shadow: 0 0 15px #ff4444;
}

/* ==================== Game View Layout ==================== */
.game-view { 
    display:none; 
    flex-direction:row; 
    gap:20px; 
    padding:30px; 
    justify-content:center; 
    align-items:flex-start; 
}
.leaderboard { 
    width:220px; 
    background:rgba(20,20,20,0.6); 
    border:1px solid #00ff99; 
    border-radius:12px; 
    padding:15px; 
    text-align:center; 
}
.leaderboard h3 { color:#00ff99; margin-bottom:10px; }

.history { 
    width:260px; 
    height:70vh; 
    overflow-y:auto; 
    background:rgba(20,20,20,0.65); 
    border:1px solid rgba(0,255,140,0.25); 
    border-radius:12px; 
    padding:15px; 
}
.history h3 { text-align:center; color:#00ff99; margin-bottom:15px; }
.history ul { list-style:none; padding-left:0; }
.history li { 
    background:rgba(25,25,25,0.75); 
    padding:10px; 
    margin-bottom:8px; 
    border-radius:10px; 
    border:1px solid rgba(0,255,140,0.2); 
    font-size:14px; 
    display:flex; 
    justify-content:space-between; 
}
.history-time { font-size:11px; color:#00ff99; flex-shrink:0; }

/* ==================== Game Container ==================== */
.game-container { 
    background: rgba(20,20,20,0.6); 
    border:1px solid rgba(0,255,140,0.25); 
    border-radius:12px; 
    padding:20px; 
    text-align:center; 
    width:450px; 
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    gap:20px; 
}

.rules-box { 
    background: rgba(20,20,20,0.6); 
    border:1px solid #00ff99; 
    border-radius:10px; 
    padding:15px; 
    width:100%; 
    max-width:800px; 
    margin-top:20px; 
}

/* ==================== Roulette Wheel ==================== */
.roulette-wheel {
    width: 300px;
    height: 300px;
    border-radius: 50%;
    border: 8px solid #222;
    position: relative;
    overflow: hidden;
}
.ball {
    width: 20px;
    height: 20px;
    background: white;
    border-radius: 50%;
    position: absolute;
    top: 10px;
    left: 140px;
    z-index: 10;
}
.spin {
    animation: spinWheel 3s cubic-bezier(.17,.67,.83,.67);
}
@keyframes spinWheel {
    from { transform: rotate(0deg); }
    to { transform: rotate(1440deg); }
}

/* ==================== Coin Flip ==================== */
.coin { 
    width:120px; height:120px; 
    position:relative; 
    transform-style: preserve-3d; 
    perspective:1000px; 
}
.coin .side { 
    width:120px; height:120px; 
    position:absolute; 
    backface-visibility:hidden; 
    border-radius:50%; 
    display:flex; 
    justify-content:center; 
    align-items:center; 
    font-weight:bold; 
    background:#00ff99; 
    color:#000; 
    font-size:20px; 
}
.tails { transform:rotateY(180deg); }
.flip-animate { animation: flip 2s ease-in-out forwards; }
@keyframes flip { 0% { transform:rotateY(0); } 100% { transform:rotateY(1080deg); } }

/* ==================== Slots ==================== */
.reels { display:flex; justify-content:center; gap:15px; font-size:48px; }
.reel { 
    width:70px; height:70px; 
    border-radius:12px; 
    background:rgba(0,255,140,0.1); 
    display:flex; 
    justify-content:center; 
    align-items:center; 
    border:2px solid #00ff99; 
}
</style>
</head>
<body>

<header>
    <div class="logo">PyChance</div>
    <div class="user-info">
        Points: <span id="pointsDisplay"></span><br>
        User: <span id="usernameDisplay"></span>
    </div>
</header>

<!-- ================= HOME PAGE ================= -->
<div id="homePage" class="games-selection">
    <div class="game-card" onclick="openGame('coinflip')">
        <img src="https://1b-f.s3.eu-west-1.amazonaws.com/a/146196-A15C1B6A-D5AE-41A2-9C20-912324FA259B-0-1598508964.gif">
        <p>Coin Flip</p>
    </div>

    <div class="game-card" onclick="openGame('roulette')">
        <img src="https://media.giphy.com/media/26uf2YTgF5upXUTm0/200w.gif">
        <p>Roulette</p>
    </div>

    <div class="game-card" onclick="openGame('slots')">
        <img src="https://media4.giphy.com/media/EahYBxGgJHLZ6/giphy.gif">
        <p>Slots</p>
    </div>
</div>

<!-- ================= NEED HELP + LOGOUT ================= -->
<div class="bottom-buttons">
    <a href="login.html" class="logout">Logout</a>
    <a href="mailto:can'thelpyousupport@pychance.com">Need Help?</a>
</div>

<!-- ================= ROULETTE VIEW ================= -->
<div id="rouletteView" class="game-view">
    <div class="leaderboard">
        <h3>Leaderboard</h3>
        <p>Wins: <span id="rouletteWins">0</span></p>
    </div>
    <div class="game-container">
        <h2>Roulette</h2>
        <div id="rouletteWheel" class="roulette-wheel"></div>
        <div class="ball" id="rouletteBall"></div>
        <button onclick="spinRoulette()">Spin</button>
        <p id="rouletteResult"></p>
        <div class="rules-box">
            <h4>Rules</h4>
            <p>Random number 1-36. Even = win +10, odd = lose -5.</p>
        </div>
        <button class="back" onclick="backHome()">Back</button>
    </div>
    <div class="history"><h3>Gaming History</h3><ul id="rouletteHistory"></ul></div>
</div>

<!-- ================= COIN FLIP ================= -->
<div id="coinflipView" class="game-view">
    <div class="leaderboard">
        <h3>Leaderboard</h3>
        <p>Wins: <span id="coinWins">0</span></p>
    </div>
    <div class="game-container">
        <h2>Coin Flip</h2>
        <div id="coin" class="coin">
            <div class="side heads">HEADS</div>
            <div class="side tails">TAILS</div>
        </div>
        <div style="display:flex; gap:10px;">
            <button onclick="setGuess('Heads')">Heads</button>
            <button onclick="setGuess('Tails')">Tails</button>
        </div>
        <button onclick="flipCoin()">Flip Coin</button>
        <p id="coinResult"></p>
        <div class="rules-box">
            <h4>Rules</h4>
            <p>Guess right +10, wrong -5.</p>
        </div>
        <button class="back" onclick="backHome()">Back</button>
    </div>
    <div class="history"><h3>Gaming History</h3><ul id="coinHistory"></ul></div>
</div>

<!-- ================= SLOTS ================= -->
<div id="slotsView" class="game-view">
    <div class="leaderboard">
        <h3>Leaderboard</h3>
        <p>Wins: <span id="slotsWins">0</span></p>
    </div>
    <div class="game-container">
        <h2>Slots</h2>
        <div class="reels" id="slotsReels">
            <div class="reel">üçí</div>
            <div class="reel">üçã</div>
            <div class="reel">üçä</div>
        </div>
        <button onclick="spinSlots()">Spin</button>
        <p id="slotsResult"></p>
        <div class="rules-box">
            <h4>Rules</h4>
            <p>3 match +20, 2 match +10, none -5.</p>
        </div>
        <button class="back" onclick="backHome()">Back</button>
    </div>
    <div class="history"><h3>Gaming History</h3><ul id="slotsHistory"></ul></div>
</div>

<script>
/* ================= USER INFO ================= */
if(!localStorage.getItem('points')) localStorage.setItem('points',50);
if(!localStorage.getItem('username')) localStorage.setItem('username','Player1');
let points = parseInt(localStorage.getItem('points'));
document.getElementById('pointsDisplay').textContent = points;
document.getElementById('usernameDisplay').textContent = localStorage.getItem('username');

/* ================= PAGE SWITCHING ================= */
function openGame(id){
    document.getElementById('homePage').style.display='none';
    document.querySelectorAll('.game-view').forEach(v=>v.style.display='none');
    document.getElementById(id+'View').style.display='flex';
}
function backHome(){
    document.querySelectorAll('.game-view').forEach(v=>v.style.display='none');
    document.getElementById('homePage').style.display='flex';
}

/* ================= HISTORY ================= */
function addHistory(listId, game, result){
    const li = document.createElement('li');
    const now = new Date();
    const time = now.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
    li.innerHTML=`<span>${game}: ${result}</span><span class='history-time'>${time}</span>`;
    document.getElementById(listId).appendChild(li);
}

/* ================= ROULETTE WHEEL ================= */
let rouletteWins = 0;
function spinRoulette(){
    const wheel = document.getElementById("rouletteWheel");
    const ball = document.getElementById("rouletteBall");

    wheel.classList.remove("spin");
    void wheel.offsetWidth;
    wheel.classList.add("spin");

    const result = Math.floor(Math.random()*36)+1;
    const angle = (result / 36) * 360;
    ball.style.transform = `rotate(${angle}deg) translate(120px)`;

    setTimeout(()=>{
        document.getElementById('rouletteResult').textContent = "Number: " + result;
        if(result % 2 === 0){ points += 10; rouletteWins++; }
        else { points -= 5; }
        document.getElementById('pointsDisplay').textContent = points;
        document.getElementById('rouletteWins').textContent = rouletteWins;
        localStorage.setItem('points',points);
        addHistory('rouletteHistory','Roulette',result);
    },3000);
}

/* ================= COIN FLIP ================= */
let coinWins = 0; let userGuess = null;
function setGuess(choice){ userGuess=choice; document.getElementById('coinResult').textContent="You picked "+choice; }
function flipCoin(){
    if(!userGuess){ alert("Pick Heads or Tails"); return; }
    const coin = document.getElementById('coin'); coin.classList.add("flip-animate");
    setTimeout(()=>{
        coin.classList.remove("flip-animate");
        const result = Math.random()<0.5?"Heads":"Tails";
        let msg = "Coin: "+result+". ";
        if(userGuess===result){ points+=10; coinWins++; msg+="You won!"; } 
        else { points-=5; msg+="You lost."; }
        document.getElementById('coinResult').textContent=msg;
        document.getElementById('pointsDisplay').textContent=points;
        document.getElementById('coinWins').textContent=coinWins;
        localStorage.setItem('points',points);
        addHistory('coinHistory','Coin Flip',result);
        userGuess=null;
    },2000);
}

/* ================= SLOTS ================= */
let slotsWins = 0;
function spinSlots(){
    const symbols=["üçí","üçã","üçä","üçá","üçâ"];
    const reels=document.querySelectorAll('#slotsReels .reel');
    reels.forEach((reel,i)=>{
        let spins=10+i*5;
        let interval=setInterval(()=>{ reel.textContent=symbols[Math.floor(Math.random()*symbols.length)]; },50);
        setTimeout(()=>{ clearInterval(interval); }, spins*50);
    });
    setTimeout(()=>{
        const final=Array.from({length:3},()=>symbols[Math.floor(Math.random()*symbols.length)]);
        reels.forEach((r,i)=> r.textContent=final[i]);
        let setSize=new Set(final).size;
        if(setSize===1){ points+=20; slotsWins++; } 
        else if(setSize===2){ points+=10; } 
        else { points-=5; }
        document.getElementById('pointsDisplay').textContent=points;
        document.getElementById('slotsWins').textContent=slotsWins;
        localStorage.setItem('points',points);
        addHistory('slotsHistory','Slots',final.join(" | "));
    },1000);
}
</script>

</body>
</html>
